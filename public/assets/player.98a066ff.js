import{d as _e,u as $e,c as y,a as re,o as de,i as s,s as E,m as z,b as g,F as ge,e as fe,f as ye,g as he,h as x,t as B,N as we,j as be}from"./index.34626349.js";import{s as R,f as A,b as Ne}from"./constants.77b72ef2.js";const pe="_player_fill_1yptu_1";var ae={player_fill:pe};const Ce="_player_sypmg_1",Se="_controlsContainer_sypmg_27",xe="_volumeControls_sypmg_45",Be="_indicators_sypmg_47",Pe="_controls_sypmg_27",ke="_imgContainer_sypmg_89",je="_playPauseBtn_sypmg_155",qe="_title_sypmg_177",De="_show_download_sypmg_189",Te="_downloadBtn_sypmg_197",Ie="_downloadBtnShow_sypmg_233";var d={player:Ce,controlsContainer:Se,volumeControls:xe,indicators:Be,controls:Pe,imgContainer:ke,playPauseBtn:je,title:qe,show_download:De,downloadBtn:Te,downloadBtnShow:Ie};const Fe=B("<div></div>"),Le=B('<div><div><img><a target="_blank" download><button>Download</button></a></div><div><div><button></button><div><button></button><p>%</p><button></button></div></div><div><p></p><input type="range"><p></p></div><p></p></div></div>'),Ue=({id:o,reload:$,lenSec:l,nextVideoId:m,audioUrl:c,title:a})=>{let i=90;const t=new Audio("");let _=null;const r=$e(),[u,n]=y(0),[N,h]=y(!1),[P,p]=y(i),[C,S]=y(!1);re(async()=>{t.src=`${R}/audio/${o()}`,t.volume=i/100,_.max=parseInt(l),_.min=0,_.value=0,t.play()}),de(async()=>{t.onpause=()=>h(!1),t.onplay=()=>{h(!0),_.max=t.duration||parseInt(l)},t.onended=()=>{h(!1),r("/player/"+m),$(m)},t.ontimeupdate=w=>{_.value=t.currentTime,n(t.currentTime)}});const f={color:"#000000",size:"20px"};return(()=>{const w=Fe.cloneNode(!0);return s(w,c&&(()=>{const b=Le.cloneNode(!0),T=b.firstChild,k=T.firstChild,I=k.nextSibling,ve=I.firstChild,M=T.nextSibling,F=M.firstChild,j=F.firstChild,G=j.nextSibling,q=G.firstChild,L=q.nextSibling,me=L.firstChild,U=L.nextSibling,V=F.nextSibling,H=V.firstChild,D=H.nextSibling,ue=D.nextSibling,J=V.nextSibling;k.$$click=()=>S(!0),E(k,"src",c),ve.$$click=()=>S(!1),j.$$click=()=>N()?t.pause():t.play(),s(j,(()=>{const e=z(()=>!!N(),!0);return()=>e()?g(ge,f):g(fe,f)})()),q.$$click=()=>{i+5>100||(t.volume=(i+5)/100,i=i+5,p(i))},s(q,g(ye,f)),s(L,P,me),U.$$click=()=>{i-5<0||(t.volume=(i-5)/100,i=i-5,p(i))},s(U,g(he,f)),s(H,()=>A(u())),D.$$input=e=>{t.currentTime=e.currentTarget.value,n(e.currentTarget.value)};const K=_;return typeof K=="function"?K(D):_=D,s(ue,()=>A(l)),s(J,a),x(e=>{const O=d.player,Q=d.imgContainer,W=C()?d.show_download:"",X=`${R}/audio/${o()}`,Y=`${d.downloadBtn} ${C()&&d.downloadBtnShow}`,Z=d.controlsContainer,ee=d.controls,te=d.playPauseBtn,ne=d.volumeControls,ie=d.volumeUp,le=d.volumeDown,se=d.indicators,oe=d.title;return O!==e._v$&&(b.className=e._v$=O),Q!==e._v$2&&(T.className=e._v$2=Q),W!==e._v$3&&(k.className=e._v$3=W),X!==e._v$4&&E(I,"href",e._v$4=X),Y!==e._v$5&&(I.className=e._v$5=Y),Z!==e._v$6&&(M.className=e._v$6=Z),ee!==e._v$7&&(F.className=e._v$7=ee),te!==e._v$8&&(j.className=e._v$8=te),ne!==e._v$9&&(G.className=e._v$9=ne),ie!==e._v$10&&(q.className=e._v$10=ie),le!==e._v$11&&(U.className=e._v$11=le),se!==e._v$12&&(V.className=e._v$12=se),oe!==e._v$13&&(J.className=e._v$13=oe),e},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0}),b})()),w})()};_e(["click","input"]);const Ve="_item_container_15qjr_1",Ee="_item_shel_15qjr_15",Re="_item_main_15qjr_27",Ae="_item_img_container_15qjr_37",ze="_item_img_15qjr_37",Me="_item_time_15qjr_55",Ge="_item_title_15qjr_73",He="_item_view_count_and_published_at_container_15qjr_81";var v={item_container:Ve,item_shel:Ee,item_main:Re,item_img_container:Ae,item_img:ze,item_time:Me,item_title:Ge,item_view_count_and_published_at_container:He};const ce=B("<div></div>"),Je=B("<div><div><img><p></p></div><p></p><div><p></p><p></p></div></div>"),Ke=({data:o,reload:$})=>(()=>{const l=ce.cloneNode(!0);return s(l,(()=>{const m=z(()=>!!o(),!0);return()=>m()&&o()?.related_videos?.map((c,a)=>g(Oe,{info:c,get key(){return c.id},reload:$}))})()),x(()=>l.className=v.item_container),l})(),Oe=({info:o,reload:$})=>(()=>{const l=ce.cloneNode(!0);return l.$$click=()=>$(o.id),s(l,g(we,{get href(){return`${Ne}/player/${o.id}`},style:{"text-decoration":"none"},get children(){const m=Je.cloneNode(!0),c=m.firstChild,a=c.firstChild,i=a.nextSibling,t=c.nextSibling,_=t.nextSibling,r=_.firstChild,u=r.nextSibling;return s(i,()=>A(o.length_seconds)),s(t,()=>o.title),s(r,()=>o.short_view_count_text),s(u,()=>o.published),x(n=>{const N=v.item_main,h=v.item_img_container,P=v.item_img,p=o.thumbnails[0].url,C=v.item_time,S=v.item_title,f=v.item_view_count_and_published_at_container,w=v.item_view_count,b=v.item_published_at;return N!==n._v$&&(m.className=n._v$=N),h!==n._v$2&&(c.className=n._v$2=h),P!==n._v$3&&(a.className=n._v$3=P),p!==n._v$4&&E(a,"src",n._v$4=p),C!==n._v$5&&(i.className=n._v$5=C),S!==n._v$6&&(t.className=n._v$6=S),f!==n._v$7&&(_.className=n._v$7=f),w!==n._v$8&&(r.className=n._v$8=w),b!==n._v$9&&(u.className=n._v$9=b),n},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0}),m}})),x(()=>l.className=v.item_shel),l})();_e(["click"]);const Qe=B("<div><div></div></div>"),Ye=()=>{const o=be(),[$,l]=y(""),[m,c]=y(!1),[a,i]=y({});return re(async()=>{c(!0);const t=await fetch(`${R}/video-info/${$()}`).then(_=>_.json());console.log(t),i(t),c(!1)}),de(async()=>{document.querySelector("body").style.overflow="auto",l(o.id)}),(()=>{const t=Qe.cloneNode(!0),_=t.firstChild;return s(t,(()=>{const r=z(()=>!!(a()&&a().related_videos&&a().related_videos.length!==0),!0);return()=>r()&&g(Ue,{id:$,reload:u=>{l(u)},get audioUrl(){return a()?.videoDetails?.thumbnails[0]?.url},get lenSec(){return a()?.videoDetails?.lengthSeconds},get nextVideoId(){return a().related_videos[0].id},get title(){return a()?.videoDetails?.title}})})(),_),s(t,g(Ke,{data:a,reload:r=>{l(r)}}),null),x(r=>{const u=ae.main,n=ae.player_fill;return u!==r._v$&&(t.className=r._v$=u),n!==r._v$2&&(_.className=r._v$2=n),r},{_v$:void 0,_v$2:void 0}),t})()};export{Ye as default};
