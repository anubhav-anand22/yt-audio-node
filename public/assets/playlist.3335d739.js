import{j as me,c,a as z,o as fe,i as l,m as L,b as g,k as M,F as pe,e as ye,l as ge,f as be,g as he,h as B,s as N,d as Se,t as G}from"./index.34626349.js";import{f as ce,s as O}from"./constants.77b72ef2.js";const xe="_player_1i9ct_1",Ce="_player_fill_1i9ct_25",Ne="_player_info_cont_1i9ct_35",Ie="_player_vol_btn_cont_1i9ct_53",ke="_player_range_cont_1i9ct_55",we="_player_btn_cont_1i9ct_57",Pe="_player_title_cont_1i9ct_157",Te="_item_cont_1i9ct_173",De="_item_1i9ct_173",Fe="_item_info_cont_1i9ct_209",Ee="_item_title_1i9ct_217",Ve="_item_chanel_name_1i9ct_225",je="_item_indicator_1i9ct_233",Ae="_active_item_1i9ct_261";var i={player:xe,player_fill:Ce,player_info_cont:Ne,player_vol_btn_cont:Ie,player_range_cont:ke,player_btn_cont:we,player_title_cont:Pe,item_cont:Te,item:De,item_info_cont:Fe,item_title:Ee,item_chanel_name:Ve,item_indicator:je,active_item:Ae};const Re=G("<div><div></div><div></div></div>"),Ue=G('<div><div><img alt=""></div><div><div><button></button><a target="_blank"><button></button></a><div><button></button><p>%</p><button></button></div></div><div><p></p><input type="range"><p></p></div><div><p></p></div></div></div>'),qe=G('<div><img alt=""><div><p></p><p></p></div><div><p>Playing now</p></div></div>'),Oe=()=>{const t=new Audio;let f=90,I=null;const V=me(),[d,p]=c(""),[a,b]=c({}),[_,v]=c({}),[k,n]=c(!1),[o,u]=c(f),[h,w]=c(100),[S,P]=c(0),[T,D]=c(0);z(async()=>{if(console.log(d()),!d())return;const $=await fetch(`${O}/video-from-list/${d()}`).then(C=>C.json());console.log($.items),b($),v($.items[0]),D(0)}),z(()=>{_().snippet&&(t.src=`${O}/audio/${_().snippet.resourceId.videoId}`)}),z(()=>{f=o(),t.volume=f/100}),fe(()=>{document.querySelector("body").style.overflow="auto",p(V.id),t.onplay=()=>n(!0),t.onpause=()=>n(!1),t.onloadeddata=()=>{w(t.duration),t.play()},t.ontimeupdate=()=>P(t.currentTime),t.onended=()=>{n(!1),T()+1>=a().items.length?(D(0),v(a().items[0])):(v(a().items[T()+1]),D(T()+1))}});const x={color:"#000000",size:"20px"};return(()=>{const $=Re.cloneNode(!0),C=$.firstChild,H=C.nextSibling;return l($,(()=>{const s=L(()=>!!_()?.snippet,!0);return()=>s()&&(()=>{const r=Ue.cloneNode(!0),m=r.firstChild,F=m.firstChild,J=m.nextSibling,j=J.firstChild,A=j.firstChild,E=A.nextSibling,de=E.firstChild,K=E.nextSibling,R=K.firstChild,U=R.nextSibling,ve=U.firstChild,Q=U.nextSibling,q=j.nextSibling,W=q.firstChild,y=W.nextSibling,ue=y.nextSibling,X=q.nextSibling,$e=X.firstChild;A.$$click=()=>{k()?t.pause():t.play()},l(A,(()=>{const e=L(()=>!!k(),!0);return()=>e()?g(pe,M(x,{color:"#fca311"})):g(ye,M(x,{color:"#fca311"}))})()),l(de,g(ge,M(x,{color:"#fca311"}))),R.$$click=()=>{if(o()+5>100)return u(100);u(o()+5)},l(R,g(be,x)),l(U,o,ve),Q.$$click=()=>{if(o()-5<0)return u(0);u(o()-5)},l(Q,g(he,x)),l(W,()=>ce(S()));const Y=I;return typeof Y=="function"?Y(y):I=y,y.$$input=e=>t.currentTime=e.currentTarget.value,l(ue,()=>ce(h())),l($e,()=>_().snippet.title),B(e=>{const Z=i.player,ee=_()?.snippet?.thumbnails?.default?.url,te=i.player_info_cont,ne=i.player_btn_cont,ie=`${O}/audio/${_().snippet.resourceId.videoId}`,le=_().snippet.title,_e=i.player_vol_btn_cont,ae=i.player_range_cont,oe=h(),se=S(),re=i.player_title_cont;return Z!==e._v$3&&(r.className=e._v$3=Z),ee!==e._v$4&&N(F,"src",e._v$4=ee),te!==e._v$5&&(J.className=e._v$5=te),ne!==e._v$6&&(j.className=e._v$6=ne),ie!==e._v$7&&N(E,"href",e._v$7=ie),le!==e._v$8&&N(E,"download",e._v$8=le),_e!==e._v$9&&(K.className=e._v$9=_e),ae!==e._v$10&&(q.className=e._v$10=ae),oe!==e._v$11&&N(y,"max",e._v$11=oe),se!==e._v$12&&(y.value=e._v$12=se),re!==e._v$13&&(X.className=e._v$13=re),e},{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0}),r})()})(),C),l(H,(()=>{const s=L(()=>a()?.items?.length>0,!0);return()=>s()&&a().items.map((r,m)=>g(ze,{get key(){return r.id},info:r,index:m,currentIndex:T,reload:F=>{t.pause(),v(a().items[F]),D(F)}}))})()),B(s=>{const r=i.player_fill,m=i.item_cont;return r!==s._v$&&(C.className=s._v$=r),m!==s._v$2&&(H.className=s._v$2=m),s},{_v$:void 0,_v$2:void 0}),$})()},ze=({info:t,index:f,currentIndex:I,reload:V})=>{const d=t?.snippet?.thumbnails;return(()=>{const p=qe.cloneNode(!0),a=p.firstChild,b=a.nextSibling,_=b.firstChild,v=_.nextSibling,k=b.nextSibling;return p.$$click=()=>{!d?.default?.url||V(f)},l(_,()=>t?.snippet?.title),l(v,()=>t?.snippet?.videoOwnerChannelTitle),B(n=>{const o=`${i.item} ${f===I()&&i.active_item}`,u=d?.high?.url||d?.default?.url,h=i.item_info_cont,w=i.item_title,S=i.item_chanel_name,P=i.item_indicator;return o!==n._v$14&&(p.className=n._v$14=o),u!==n._v$15&&N(a,"src",n._v$15=u),h!==n._v$16&&(b.className=n._v$16=h),w!==n._v$17&&(_.className=n._v$17=w),S!==n._v$18&&(v.className=n._v$18=S),P!==n._v$19&&(k.className=n._v$19=P),n},{_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0}),p})()};Se(["click","input"]);export{Oe as default};
